# 中期报告

<div align="center">陈哲恺</div>

## 01 课程总结

在课程开始之前，我只在使用一个video diffusion model的时候接触了一点modelscope相关的内容，通过课程，我学习到了挺多内容

在课程中，我首先学习到的是一些比较传统的CV相关的模型，在老师的介绍下，我对于感知任务、生成任务等有了较为明确的理解，能明白每个工作的目的分别有什么区别，也对相关方面的最新工作有了一定的了解；其次我学到的就是如何使用modelscope平台，这个平台给我的感觉是和huggingface类似，只是由于可能专攻的方向以及存在的时间的区别，modelscope中原创性的内容还是比较少，各种package和文档也并不完善，相比较而言，huggingface的各个包和space的模型搭建空间要方便实用的多。不过这个平台提供了gpu计算节点，这使得进行ai相关开发成为了容易达成的现实，包括各种预配置好的镜像也十分方便，通过学习modelscope的使用，相信对我未来去做一些相关的研究是很有帮助的。

从课程本身来说，其介绍的内容确实十分充分和丰富，但是有两点我觉得还是需要改进。一是课程的模式，我们上课的模式是播放已有的视频，这一方面缺乏一些互动的空间，另一方面也不能及时对课程内容进行调整，感觉相对来说效果会比较差；二是课程的内容，感觉作为一门课程它太过简单了，同时既没有相应的练习和实践，大作业的相关度也很低，感觉是需要做出一些调整的。

不过总的来说，课程还是给了我一个接触modelscope这个平台的机会，了解更多，学习更多，我觉得这是十分有意义的。

## 02 项目认知

我本身对于diffusion model有一定了解，在暑假这段时间也进行了一些lora相关的学习和实验，所以对整个项目流程还是比较清晰的。

我对于这个项目的理解就是，首先使用一个base model作为基础模型，然后在这个基础模型上，使用人脸数据训练一个face lora，用于保证生成图片的id，在训练完这个lora之后，将这个lora与style lora进行组合，通过pipeline产出图片。在产出了原始图片之后，再使用训练数据的face进行修正和增强，最终达到高质量的生成，在保持人物id的同时实现风格的融合

在我一开始接触到这个项目的时候，受到我暑假做的事的影响，我最先想到的是将lora的训练过程换为更强的edlora，从而提升lora的表现能力。但是后来在稍微了解了整个项目之后，我认为lora转换为edlora的工程量实在太大，而且需要一些额外的适配，所以暂时放弃了这个实现，只是作为一种思路保留。

关于任务，其实我一开始不太理解任务要做什么，因为我觉得那只是个寻找适配的style lora并调参的工作，感觉工作量有点小了。所以我转向了一种更具有普适性的思路，也就是TODO list中的lora的即插即用，这是一个同时涉及到后端处理和前端lora搭建的工作，感觉相对而言工作量比较适合。在这之上，我又产生了一些其他关于ui修改和功能实现的思路，具体可以查看小组报告中的内容。



## 03 当前进度

当前已经完成了自己最开始的一些想法，对lora的即插即用、生成图片历史的保存和查看都完成了切实可用的实现。目前正在做的是对于controlnet中openpose控制的部分进行修改，已经完成了对openpose结果的实时查看，使得用户可以实时观察当前正在使用的keypose的模样。本来是想做进一步的处理，允许用户直接编辑openpose以增加可玩性的，但是后来在参考了已有的实现之后，感觉这个功能的体量可能会有点大，实现起来可能需要非常多的时间，所以暂时先搁置了这个想法。



## 04 未来计划

目前正在探索更多可以进行开发和补充的地方，暂时还没有明确的未来计划，所有我认为急需的功能已经基本完成了，剩下的可能更多的是一些功能的拓展。目前我认为接下来的工作可能在以下三个方面：

- 现有项目bug的修复
- ui的优化
- 更多功能的开发

我会在使用中进一步探索这三方面的工作



## 05 任务总结

综上，我并没有按照任务要求去进行新风格的适配（在完成lora即插即用时进行了尝试但并没有细致的调整），但是我为项目进行了一些contribution并且已经被merge到主分支。不过我们小组是为项目贡献了新风格的适配的，我其实不太确定脱离任务要求这样是否是可以的，也希望老师能给出一些建议

不过我认为我做的事情是比新风格的适配更加重要的和有意义的，这些普适性的工作我觉得才是目前facechain这个项目需要的
